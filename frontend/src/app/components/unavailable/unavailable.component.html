<mat-card>
    <mat-card-title>
        Marcar Per√≠odos de Indisponibilidade
    </mat-card-title>

    <mat-card-content>
        <form [formGroup]="unavailableForm" (ngSubmit)="addUna()" novalidate>
            <mat-form-field appearance="fill">
                <mat-label>Escolha a data:</mat-label>
                <input matInput formControlName="dayUn" [matDatepicker]="picker" [min]="minDate">
                <mat-hint>DD/MM/YYYY</mat-hint>
                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
            </mat-form-field>
            
            <mat-form-field appearance="fill">
                <mat-label>Escolha a hora de inicio:</mat-label>
                <input matInput formControlName="hStart" type="time" >
                <mat-hint>HH:mm</mat-hint>
            </mat-form-field>

            <mat-form-field appearance="fill">
                <mat-label>Escolha a hora de fim:</mat-label>
                <input matInput formControlName="hEnd" type="time">
                <mat-hint>HH:mm</mat-hint>
            </mat-form-field>
            
            <mat-label class="col"
                [ngStyle]="{'color': unavailableForm.value.hStart >= unavailableForm.value.hEnd ? 'red' : 'green'}">
                <mat-icon>
                    {{ unavailableForm.value.hStart > unavailableForm.value.hEnd ? 'cancel' : 'check_circle' }}
                </mat-icon>
                A hora de inicio nao deve ser menor que a hora de fim 
            </mat-label>


            <button color="primary" [disabled]="!unavailableForm.valid || unavailableForm.value.hStart > unavailableForm.value.hEnd" mat-raised-button  type="submit">
                <mat-icon>add_circle</mat-icon>
                <span>
                    Marcar
                </span>
            </button>
        </form>
    </mat-card-content>
</mat-card>
